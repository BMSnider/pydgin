//=========================================================================
// parcv2-j.S
//=========================================================================

#include "parc-macros.h"

        TEST_PARC_BEGIN

        //-----------------------------------------------------------------
        // Basic test
        //-----------------------------------------------------------------

        li $29, __LINE__
        j test_0
        j _fail
test_0:

        //-----------------------------------------------------------------
        // Test that there is no branch delay slot
        //-----------------------------------------------------------------

        li    $2, 1
        j     1f
        addiu $2, 1
        addiu $2, 1
        addiu $2, 1
        addiu $2, 1
    1:  addiu $2, 1
        addiu $2, 1
        TEST_CHECK_EQ( $2, 3 )

        //-----------------------------------------------------------------
        // Test a jump to PC+4
        //-----------------------------------------------------------------

        li $29, __LINE__
        j test_1
test_1:
        addiu $2, 1
        TEST_CHECK_EQ( $2, 4 )

        TEST_PARC_END

